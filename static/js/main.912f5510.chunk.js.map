{"version":3,"sources":["services/firebase.ts","contexts/AuthContext.tsx","pages/Home/styles.ts","assets/images/illustration.svg","components/Slogan/styles.ts","components/Slogan/index.tsx","assets/images/logo.svg","assets/images/google-icon.svg","assets/images/login.svg","components/Button/styles.ts","components/Button/index.tsx","hooks/useAuth.ts","pages/Home/index.tsx","pages/NewRoom/styles.ts","pages/NewRoom/index.tsx","pages/Room/styles.ts","assets/images/copy.svg","components/RoomCode/styles.ts","components/RoomCode/index.tsx","pages/Room/index.tsx","App.tsx","styles/global.ts","index.tsx"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","database","AuthContext","createContext","AuthContextProvider","children","useState","user","setUser","a","provider","GoogleAuthProvider","signInWithPopup","result","displayName","photoURL","uid","Error","id","name","avatar","useEffect","unsubscribe","onAuthStateChanged","Provider","value","signInWithGoogle","Container","styled","div","aside","Slogan","src","illustrationImg","alt","button","Button","props","className","useAuth","useContext","Home","history","useHistory","roomCode","setRoomCode","push","event","preventDefault","trim","ref","get","exists","alert","logoImg","onClick","googleIconImg","onSubmit","type","placeholder","onChange","target","enterRoomImg","NewRoom","newRoom","setNewRoom","roomRef","title","authorId","firebaseRoom","key","to","RoomCode","code","navigator","clipboard","writeText","copyImg","Room","params","useParams","newQuestion","setNewQuestion","questions","setQuestions","setTitle","roomId","question","content","author","isHighlighted","isAnswered","on","room","databaseRoom","val","firebaseQuestions","parsedQuestions","Object","entries","map","length","disabled","App","basename","path","exact","component","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.912f5510.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst auth = firebase.auth();\nconst database = firebase.database();\n\nexport { firebase, auth, database };","import { createContext, ReactNode, useState, useEffect } from \"react\";\nimport { auth, firebase } from '../services/firebase';\n\ntype User = {\n  id: string;\n  name: string;\n  avatar: string;\n}\n\ntype AuthContextType = {\n  user: User | undefined;\n  signInWithGoogle: () => Promise<void>;\n}\n\ntype AuthContextProviderProps = {\n  children: ReactNode;\n}\n\nexport const AuthContext = createContext({} as AuthContextType);\n\nexport function AuthContextProvider({ children }: AuthContextProviderProps) {\n  const [user, setUser] = useState<User>();\n\n  // Verificação para identificar se o usuario já se logou alguma vez.\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if (user) {\n        const { displayName, photoURL, uid } = user;\n\n        if (!displayName || !photoURL) {\n          throw new Error('Missing information from Google Account');\n        }\n\n        setUser({\n          id: uid,\n          name: displayName,\n          avatar: photoURL,\n        });\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    }\n  }, []);\n\n  async function signInWithGoogle() {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    const result = await auth.signInWithPopup(provider);\n\n    if (result.user) {\n      const { displayName, photoURL, uid } = result.user;\n\n      if (!displayName || !photoURL) {\n        throw new Error('Missing information from Google Account');\n      }\n\n      setUser({\n        id: uid,\n        name: displayName,\n        avatar: photoURL,\n      });\n    }\n  }\n\n  return (\n    <AuthContext.Provider value={{ user, signInWithGoogle }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: stretch;\n  height: 100vh;\n\n  main {\n    flex: 8;\n\n    padding: 0 32px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .main-content {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    max-width: 320px;\n    align-items: stretch;\n    text-align: center;\n\n    > img {\n      align-self: center;\n    }\n\n    form {\n      input {\n        height: 50px;\n        border-radius: 8px;\n        padding: 0 16px;\n        background: #fff;\n        border: 1px solid #a8a8b3;\n      }\n\n      button {\n        margin-top: 16px;\n      }\n\n      button,\n      input {\n        width: 100%;\n      }\n    }\n  }\n  .create-room {\n    margin-top: 64px;\n    height: 50px;\n    border-radius: 8px;\n    font-weight: 500;\n    background: #ea4335;\n    color: #fff;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    transition: filter 0.2s;\n\n    img {\n      margin-right: 8px;\n    }\n\n    &:hover {\n      filter: brightness(0.9);\n    }\n  }\n\n  .separator {\n    font-size: 14px;\n    color: #a8a8b3;\n\n    margin: 32px 0;\n    display: flex;\n    align-items: center;\n\n    &::before {\n      content: \"\";\n      flex: 1;\n      height: 1px;\n      background: #a8a8b3;\n      margin-right: 16px;\n    }\n\n    &::after {\n      content: \"\";\n      flex: 1;\n      height: 1px;\n      background: #a8a8b3;\n      margin-left: 16px;\n    }\n  }\n`;","export default __webpack_public_path__ + \"static/media/illustration.ae7276f0.svg\";","import styled from \"styled-components\";\n\nexport const Container = styled.aside`\n  flex: 7;\n  background-color: #835afd;\n  color: #fff;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  padding: 120px 80px;\n\n  img {\n    max-width: 320px;\n  }\n\n  strong {\n    font: 700 36px \"Poppins\", sans-serif;\n    line-height: 42px;\n    margin-top: 16px;\n  }\n\n  p {\n    font-size: 24px;\n    line-height: 32px;\n    margin-top: 16px;\n    color: #f8f8f8;\n  }\n`;","import illustrationImg from '../../assets/images/illustration.svg';\nimport { Container } from './styles';\n\nexport function Slogan() {\n  return (\n    <Container>\n      <img src={illustrationImg} alt=\"Ilustração simbolizando perguntas e respostas\" />\n      <strong>Crie salas de Q&amp;A ao-vivo</strong>\n      <p>Tire as dúvidas  da sua audiência em tempo-real</p>\n    </Container>\n  );\n}","export default __webpack_public_path__ + \"static/media/logo.a88331cb.svg\";","export default __webpack_public_path__ + \"static/media/google-icon.df15d8e5.svg\";","export default __webpack_public_path__ + \"static/media/login.4ca8665f.svg\";","import styled from \"styled-components\";\n\nexport const Container = styled.button`\n  height: 50px;\n  border-radius: 8px;\n  font-weight: 500;\n  background: #835afd;\n  color: #fff;\n  padding: 0 32px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  transition: filter 0.2s;\n\n  img {\n    margin-right: 8px;\n  }\n\n  &:not(:disabled):hover {\n    filter: brightness(0.9);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n`;","import { ButtonHTMLAttributes } from \"react\";\nimport { Container } from './styles';\n\ntype ButtonProps = ButtonHTMLAttributes<HTMLButtonElement>;\n\nexport function Button(props: ButtonProps) {\n  return (\n    <Container className=\"button\" {...props} />\n  );\n}","import { useContext } from 'react';\nimport { AuthContext } from \"../contexts/AuthContext\";\n\nexport function useAuth() {\n  const value = useContext(AuthContext);\n\n  return value;\n}","import { FormEvent, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { database } from \"../../services/firebase\";\n\nimport { Container } from './styles';\nimport { Slogan } from \"../../components/Slogan\";\nimport logoImg from '../../assets/images/logo.svg';\nimport googleIconImg from '../../assets/images/google-icon.svg';\nimport enterRoomImg from '../../assets/images/login.svg';\nimport { Button } from '../../components/Button';\nimport { useAuth } from \"../../hooks/useAuth\";\n\nexport function Home() {\n  const history = useHistory();\n  const { user, signInWithGoogle } = useAuth();\n  const [roomCode, setRoomCode] = useState('');\n\n  async function handleCreateRoom() {\n    if (!user) {\n      await signInWithGoogle();\n    }\n\n    history.push('/rooms/new');\n  }\n\n  async function handleJoinRoom(event: FormEvent) {\n    event.preventDefault();\n\n    if (roomCode.trim() === ''){\n      return;\n    }\n\n    const roomRef = await database.ref(`rooms/${roomCode}`).get();\n\n    if (!roomRef.exists()) {\n      alert('Room does not exist.');\n      return;\n    }\n\n    history.push(`/rooms/${roomCode}`);\n  }\n\n  return (\n    <Container>\n      <Slogan />\n      <main>\n        <div className=\"main-content\">\n          <img src={logoImg} alt=\"Letmeask\" />\n          <button\n            className=\"create-room\"\n            onClick={handleCreateRoom}\n          >\n            <img src={googleIconImg} alt=\"Logo do Google\" />\n            Crie sua sala com o Google\n          </button>\n          <div className=\"separator\">ou entre em uma sala</div>\n          <form onSubmit={handleJoinRoom}>\n            <input\n              type=\"text\"\n              placeholder=\"Digite o código da sala\"\n              onChange={event => setRoomCode(event.target.value)}\n              value={roomCode}\n            />\n            <Button type=\"submit\">\n              <img src={enterRoomImg} alt=\"Entrar na sala\" />\n              Entrar na sala\n            </Button>\n          </form>\n        </div>\n      </main>\n    </Container>\n  );\n};","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: stretch;\n  height: 100vh;\n\n  main {\n    flex: 8;\n\n    padding: 0 32px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .main-content {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    max-width: 320px;\n    align-items: stretch;\n    text-align: center;\n\n    > img {\n      align-self: center;\n    }\n\n    h2 {\n      font-size: 24px;\n      margin: 64px 0 24px;\n      font-family: 'Poppins', sans-serif;\n    }\n\n    form {\n      input {\n        height: 50px;\n        border-radius: 8px;\n        padding: 0 16px;\n        background: #fff;\n        border: 1px solid #a8a8b3;\n      }\n\n      button {\n        margin-top: 16px;\n      }\n\n      button,\n      input {\n        width: 100%;\n      }\n    }\n\n    p {\n      font-size: 14px;\n      color: #737380;\n      margin-top: 16px;\n\n      a {\n        color: #e559f9;\n      }\n    }\n  }\n  .create-room {\n    margin-top: 64px;\n    height: 50px;\n    border-radius: 8px;\n    font-weight: 500;\n    background: #ea4335;\n    color: #fff;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    transition: filter 0.2s;\n\n    img {\n      margin-right: 8px;\n    }\n\n    &:hover {\n      filter: brightness(0.9);\n    }\n  }\n\n  .separator {\n    font-size: 14px;\n    color: #a8a8b3;\n\n    margin: 32px 0;\n    display: flex;\n    align-items: center;\n\n    &::before {\n      content: \"\";\n      flex: 1;\n      height: 1px;\n      background: #a8a8b3;\n      margin-right: 16px;\n    }\n\n    &::after {\n      content: \"\";\n      flex: 1;\n      height: 1px;\n      background: #a8a8b3;\n      margin-left: 16px;\n    }\n  }\n`;","import { FormEvent, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { Container } from './styles';\nimport { Slogan } from \"../../components/Slogan\";\nimport logoImg from '../../assets/images/logo.svg';\nimport { Button } from '../../components/Button';\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { database } from \"../../services/firebase\";\n\nexport function NewRoom() {\n  const { user } = useAuth();\n  const [newRoom, setNewRoom] = useState('');\n  const history = useHistory();\n\n  async function handleCreateNewRoom(event: FormEvent) {\n    event.preventDefault();\n    \n    if (newRoom.trim() === ''){\n      return;\n    }\n\n    const roomRef = database.ref('rooms');\n    const firebaseRoom = await roomRef.push({\n      title: newRoom,\n      authorId: user?.id,\n    });\n\n    history.push(`/rooms/${firebaseRoom.key}`);\n  }\n\n  return (\n    <Container>\n      <Slogan />\n      <main>\n        <div className=\"main-content\">\n          <img src={logoImg} alt=\"Letmeask\" />\n          <h2>Criar uma nova sala</h2>\n          <form onSubmit={handleCreateNewRoom}>\n            <input\n              type=\"text\"\n              placeholder=\"Nome da sala\"\n              onChange={event => setNewRoom(event.target.value)}\n              value={newRoom}\n            />\n            <Button type=\"submit\">\n              Criar sala\n            </Button>\n          </form>\n          <p>\n            Quer entrar em uma sala já existente? <Link to=\"/\">Clique aqui</Link>\n          </p>\n        </div>\n      </main>\n    </Container>\n  );\n};","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  header {\n    padding: 24px;\n    border-bottom: 1px solid #e2e2e2;\n\n    .content {\n      max-width: 1120px;\n      margin: 0 auto;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      > img {\n        max-height: 45px;\n      }\n    }\n  }\n\n  main {\n    max-width: 800px;\n    margin: 0 auto;\n\n    .room-title {\n      margin: 32px 0 24px;\n      display: flex;\n      align-items: center;\n\n      h1 {\n        font-family: \"Poppins\", sans-serif;\n        font-size: 24px;\n        color: #29292e;\n      }\n\n      span {\n        margin-left: 16px;\n        background: #e559f9;\n        border-radius: 9999px;\n        padding: 8px 16px;\n        color: #fff;\n        font-weight: 500;\n        font-size: 14px;\n      }\n    }\n\n    form {\n      textarea {\n        width: 100%;\n        border: 0;\n        padding: 16px;\n        border-radius: 8px;\n        background: #fefefe;\n        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);\n        resize: vertical;\n        min-height: 130px;\n      }\n\n      .form-footer {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-top: 16px;\n\n        .user-info {\n          display: flex;\n          align-items: center;\n\n          img {\n            height: 32px;\n            width: 32px;\n            border-radius: 50%;\n          }\n\n          span {\n            margin-left: 8px;\n            color: #29292e;\n            font-weight: 500;\n            font-size: 14px;\n          }\n        }\n\n        > span {\n          font-size: 14px;\n          color: #737380;\n          font-weight: 500;\n\n          button {\n            background: transparent;\n            color: #835afd;\n            text-decoration: underline;\n            font-size: 14px;\n            font-weight: 500;\n          }\n        }\n      }\n    }\n  }\n`;","export default __webpack_public_path__ + \"static/media/copy.2f36f99e.svg\";","import styled from \"styled-components\";\n\nexport const Container = styled.button`\n  height: 40px;\n  border-radius: 8px;\n  overflow: hidden;\n\n  background: #fff;\n  border: 1px solid #835afd;\n  display: flex;\n\n  div {\n    background: #835afd;\n    padding: 0 12px;\n    display: flex;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n  }\n\n  span {\n    display: block;\n    align-self: center;\n    flex: 1;\n    padding: 0 16px 0 12px;\n    width: 240px;\n    font-size: 14px;\n    font-weight: 500;\n  }\n`;","import copyImg from '../../assets/images/copy.svg';\nimport { Container } from './styles';\n\ntype RoomCodeProps = {\n  code: string;\n}\n\nexport function RoomCode({ code }: RoomCodeProps) {\n  function copyRoomCodeToClipboard() {\n    navigator.clipboard.writeText(code);\n  }\n\n  return (\n    <Container\n      className=\"room-code\"\n      onClick={copyRoomCodeToClipboard}\n    >\n      <div>\n        <img src={copyImg} alt=\"Copiar código da sala\" />\n      </div>\n      <span>Sala #{code}</span>\n    </Container>\n  );\n}","import { FormEvent, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { Container } from './styles';\nimport logoImg from '../../assets/images/logo.svg';\nimport { Button } from '../../components/Button';\nimport { RoomCode } from '../../components/RoomCode';\nimport { useAuth } from '../../hooks/useAuth';\nimport { database } from '../../services/firebase';\n\ntype FirebaseQuestions = Record<string, {\n  author: {\n    name: string;\n    avatar: string;\n  }\n  content: string;\n  isHighlighted: string;\n  isAnswered: string;\n}>\n\ntype Question = {\n  id: string;\n  author: {\n    name: string;\n    avatar: string;\n  }\n  content: string;\n  isHighlighted: string;\n  isAnswered: string;\n}\n\ntype RoomParams = {\n  id: string;\n}\n\nexport function Room() {\n  const { user } = useAuth();\n  const params = useParams<RoomParams>();\n  const [newQuestion, setNewQuestion] = useState('');\n  const [questions, setQuestions] = useState<Question[]>([]);\n  const [title, setTitle] = useState('');\n\n  const roomId = params.id;\n\n  // Carrega informações da sala, perguntas, titulo\n  useEffect(() => {\n    const roomRef = database.ref(`rooms/${roomId}`);\n\n    roomRef.on('value', room => {\n      const databaseRoom = room.val();\n      const firebaseQuestions: FirebaseQuestions = databaseRoom.questions ?? {};\n\n      const parsedQuestions = Object.entries(firebaseQuestions).map(([key, value]) => {\n        return {\n          id: key,\n          content: value.content,\n          author: value.author,\n          isHighlighted: value.isHighlighted,\n          isAnswered: value.isAnswered,\n        }\n      });\n\n      setTitle(databaseRoom.title);\n      setQuestions(parsedQuestions);\n    })\n  }, [roomId]);\n\n  // Cria uma nova pergunta\n  async function handleSendQuestion(event: FormEvent) {\n    event.preventDefault();\n\n    if (newQuestion.trim() === '') {\n      return;\n    }\n\n    if (!user) {\n      throw new Error('You must be logged in');\n    }\n\n    const question = {\n      content: newQuestion,\n      author: {\n        name: user.name,\n        avatar: user.avatar,\n      },\n      isHighlighted: false,\n      isAnswered: false\n    }\n\n    await database.ref(`rooms/${roomId}/questions`).push(question);\n    setNewQuestion('');\n  }\n\n  return (\n    <Container>\n      <header>\n        <div className=\"content\">\n          <img src={logoImg} alt=\"Letmeask\" />\n          <RoomCode code={roomId}/>\n        </div>\n      </header>\n\n      <main>\n        <div className=\"room-title\">\n          <h1>Sala {title}</h1>\n          {questions.length > 0 &&\n          <span>{questions.length} pergunta(s)</span> }\n        </div>\n\n        <form\n          onSubmit={handleSendQuestion}\n        >\n          <textarea\n            placeholder=\"O que você quer perguntar?\"\n            onChange={event => setNewQuestion(event.target.value)}\n            value={newQuestion}\n          />\n\n          <div className=\"form-footer\">\n            { user ? (\n              <div className=\"user-info\">\n                <img src={user.avatar} alt={user.name} />\n                <span>{user.name}</span>\n              </div>\n            ) : (\n              <span>Para enviar uma pergunta, <button>faça seu login</button>.</span>\n            ) }\n            <Button\n              type=\"submit\"\n              disabled={!user}\n            >\n              Enviar pergunta\n            </Button>\n          </div>\n        </form>\n      </main>\n    </Container>\n  );\n}","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { AuthContextProvider } from './contexts/AuthContext';\n\nimport { Home } from \"./pages/Home\";\nimport { NewRoom } from \"./pages/NewRoom\";\nimport { Room } from \"./pages/Room\";\n\nexport function App() {\n  return (\n    <BrowserRouter basename=\"/nlw06-letmeask\">\n      <AuthContextProvider>\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/rooms/new\" component={NewRoom} />\n          <Route path=\"/rooms/:id\" component={Room} />\n        </Switch>\n      </AuthContextProvider>\n    </BrowserRouter>\n  );\n}\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #f8f8f8;\n    color: #29292e;\n  }\n\n  body,\n  input,\n  button,\n  textarea {\n    font: 400 16px \"Roboto\", sans-serif;\n  }\n\n  button {\n    border: 0;\n    cursor: pointer;\n  }\n`;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { GlobalStyle } from './styles/global';\nimport './services/firebase';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    <GlobalStyle />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}