{"version":3,"sources":["services/firebase.ts","contexts/AuthContext.tsx","assets/images/illustration.svg","assets/images/logo.svg","assets/images/google-icon.svg","components/Button/index.tsx","pages/Home/index.tsx","hooks/useAuth.ts","pages/NewRoom/index.tsx","App.tsx","index.tsx"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","database","AuthContext","createContext","AuthContextProvider","children","useState","user","setUser","a","provider","GoogleAuthProvider","signInWithPopup","result","displayName","photoURL","uid","Error","id","name","avatar","useEffect","unsubscribe","onAuthStateChanged","Provider","value","signInWithGoogle","Button","props","className","Home","history","useHistory","useContext","push","src","illustrationImg","alt","logoImg","onClick","googleIconImg","type","placeholder","NewRoom","to","App","basename","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2TAcAA,IAASC,cAVc,CACrBC,OAAQC,0CACRC,WAAYD,uCACZE,YAAaF,2DACbG,UAAWH,uBACXI,cAAeJ,mCACfK,kBAAmBL,eACnBM,MAAON,8CAKT,IAAMO,EAAOV,IAASU,O,GACLV,IAASW,W,MCCbC,EAAcC,wBAAc,IAElC,SAASC,EAAT,GAAsE,IAAvCC,EAAsC,EAAtCA,SAAsC,EAClDC,qBADkD,mBACnEC,EADmE,KAC7DC,EAD6D,iDA0B1E,sCAAAC,EAAA,6DACQC,EAAW,IAAIpB,IAASU,KAAKW,mBADrC,SAEuBX,EAAKY,gBAAgBF,GAF5C,YAEQG,EAFR,QAIaN,KAJb,qBAK2CM,EAAON,KAAtCO,EALZ,EAKYA,YAAaC,EALzB,EAKyBA,SAAUC,EALnC,EAKmCA,IAE1BF,GAAgBC,EAPzB,sBAQY,IAAIE,MAAM,2CARtB,OAWIT,EAAQ,CACNU,GAAIF,EACJG,KAAML,EACNM,OAAQL,IAdd,4CA1B0E,sBA6C1E,OAzCAM,qBAAU,WACR,IAAMC,EAActB,EAAKuB,oBAAmB,SAAAhB,GAC1C,GAAIA,EAAM,CAAC,IACDO,EAA+BP,EAA/BO,YAAaC,EAAkBR,EAAlBQ,SAAUC,EAAQT,EAARS,IAE/B,IAAKF,IAAgBC,EACnB,MAAM,IAAIE,MAAM,2CAGlBT,EAAQ,CACNU,GAAIF,EACJG,KAAML,EACNM,OAAQL,QAKd,OAAO,WACLO,OAED,IAsBD,cAACpB,EAAYsB,SAAb,CAAsBC,MAAO,CAAElB,OAAMmB,iBA9CmC,4CA8CxE,SACGrB,ICnEQ,UAA0B,yCCA1B,MAA0B,iCCA1B,MAA0B,wC,cCKlC,SAASsB,EAAOC,GACrB,OACE,oCAAQC,UAAU,UAAaD,I,MCE5B,SAASE,IACd,IAAMC,EAAUC,cADK,ECLPC,qBAAW/B,GDOjBK,EAFa,EAEbA,KAAMmB,EAFO,EAEPA,iBAFO,4CAIrB,sBAAAjB,EAAA,yDACOF,EADP,gCAEUmB,IAFV,OAKEK,EAAQG,KAAK,aALf,4CAJqB,sBAYrB,OACE,sBAAKhB,GAAG,YAAR,UACE,kCACE,qBAAKiB,IAAKC,EAAiBC,IAAI,wDAC/B,+DACA,yFAEF,+BACE,sBAAKR,UAAU,eAAf,UACE,qBAAKM,IAAKG,EAASD,IAAI,aACvB,yBACER,UAAU,cACVU,QAxBW,2CAsBb,UAIE,qBAAKJ,IAAKK,EAAeH,IAAI,mBAJ/B,gCAOA,qBAAKR,UAAU,YAAf,kCACA,iCACE,uBACEY,KAAK,OACLC,YAAY,+BAEd,cAACf,EAAD,CAAQc,KAAK,SAAb,uC,MEpCL,SAASE,IAGd,OACE,sBAAKzB,GAAG,YAAR,UACE,kCACE,qBAAKiB,IAAKC,EAAiBC,IAAI,wDAC/B,+DACA,yFAEF,+BACE,sBAAKR,UAAU,eAAf,UACE,qBAAKM,IAAKG,EAASD,IAAI,aACvB,qDACA,iCACE,uBACEI,KAAK,OACLC,YAAY,iBAEd,cAACf,EAAD,CAAQc,KAAK,SAAb,2BAIF,0EACwC,cAAC,IAAD,CAAMG,GAAG,IAAT,oCC1B3C,SAASC,IACd,OACE,cAAC,IAAD,CAAeC,SAAS,kBAAxB,SACE,eAAC1C,EAAD,WACE,cAAC,IAAD,CAAO2C,KAAK,IAAIC,OAAK,EAACC,UAAWnB,IACjC,cAAC,IAAD,CAAOiB,KAAK,aAAaE,UAAWN,S,MCJ5CO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACP,EAAD,MAEFQ,SAASC,eAAe,W","file":"static/js/main.e648bb12.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst auth = firebase.auth();\nconst database = firebase.database();\n\nexport { firebase, auth, database };","import { createContext, ReactNode, useState, useEffect } from \"react\";\nimport { auth, firebase } from '../services/firebase';\n\ntype User = {\n  id: string;\n  name: string;\n  avatar: string;\n}\n\ntype AuthContextType = {\n  user: User | undefined;\n  signInWithGoogle: () => Promise<void>;\n}\n\ntype AuthContextProviderProps = {\n  children: ReactNode;\n}\n\nexport const AuthContext = createContext({} as AuthContextType);\n\nexport function AuthContextProvider({ children }: AuthContextProviderProps) {\n  const [user, setUser] = useState<User>();\n\n  // Verificação para identificar se o usuario já se logou alguma vez.\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if (user) {\n        const { displayName, photoURL, uid } = user;\n\n        if (!displayName || !photoURL) {\n          throw new Error('Missing information from Google Account');\n        }\n\n        setUser({\n          id: uid,\n          name: displayName,\n          avatar: photoURL,\n        });\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    }\n  }, []);\n\n  async function signInWithGoogle() {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    const result = await auth.signInWithPopup(provider);\n\n    if (result.user) {\n      const { displayName, photoURL, uid } = result.user;\n\n      if (!displayName || !photoURL) {\n        throw new Error('Missing information from Google Account');\n      }\n\n      setUser({\n        id: uid,\n        name: displayName,\n        avatar: photoURL,\n      });\n    }\n  }\n\n  return (\n    <AuthContext.Provider value={{ user, signInWithGoogle }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}","export default __webpack_public_path__ + \"static/media/illustration.ae7276f0.svg\";","export default __webpack_public_path__ + \"static/media/logo.a88331cb.svg\";","export default __webpack_public_path__ + \"static/media/google-icon.df15d8e5.svg\";","import { ButtonHTMLAttributes } from \"react\";\nimport './styles.scss';\n\ntype ButtonProps = ButtonHTMLAttributes<HTMLButtonElement>;\n\nexport function Button(props: ButtonProps) {\n  return (\n    <button className=\"button\" {...props} />\n  )\n}","import { useHistory } from \"react-router-dom\";\nimport illustrationImg from '../../assets/images/illustration.svg';\nimport logoImg from '../../assets/images/logo.svg';\nimport googleIconImg from '../../assets/images/google-icon.svg';\nimport { Button } from '../../components/Button';\nimport { useAuth } from \"../../hooks/useAuth\";\n\nimport './styles.scss';\n\nexport function Home() {\n  const history = useHistory();\n  const { user, signInWithGoogle } = useAuth();\n\n  async function handleCreateRoom() {\n    if (!user) {\n      await signInWithGoogle();\n    }\n\n    history.push('rooms/new');\n  }\n\n  return (\n    <div id=\"page-auth\">\n      <aside>\n        <img src={illustrationImg} alt=\"Ilustração simbolizando perguntas e respostas\" />\n        <strong>Crie salas de Q&amp;A ao-vivo</strong>\n        <p>Tire as dúvidas  da sua audiência em tempo-real</p>\n      </aside>\n      <main>\n        <div className=\"main-content\">\n          <img src={logoImg} alt=\"Letmeask\" />\n          <button\n            className=\"create-room\"\n            onClick={handleCreateRoom}\n          >\n            <img src={googleIconImg} alt=\"Logo do Google\" />\n            Crie sua sala com o Google\n          </button>\n          <div className=\"separator\">ou entre em uma sala</div>\n          <form>\n            <input\n              type=\"text\"\n              placeholder=\"Digite o código da sala\"\n            />\n            <Button type=\"submit\">\n              Entrar na sala\n            </Button>\n          </form>\n        </div>\n      </main>\n    </div>\n  );\n};","import { useContext } from 'react';\nimport { AuthContext } from \"../contexts/AuthContext\";\n\nexport function useAuth() {\n  const value = useContext(AuthContext);\n\n  return value;\n}","import { Link } from \"react-router-dom\";\nimport illustrationImg from '../../assets/images/illustration.svg';\nimport logoImg from '../../assets/images/logo.svg';\nimport { Button } from '../../components/Button';\n//import { useAuth } from \"../../hooks/useAuth\";\n\nimport './styles.scss';\n\nexport function NewRoom() {\n  //const { user } = useAuth();\n\n  return (\n    <div id=\"page-auth\">\n      <aside>\n        <img src={illustrationImg} alt=\"Ilustração simbolizando perguntas e respostas\" />\n        <strong>Crie salas de Q&amp;A ao-vivo</strong>\n        <p>Tire as dúvidas  da sua audiência em tempo-real</p>\n      </aside>\n      <main>\n        <div className=\"main-content\">\n          <img src={logoImg} alt=\"Letmeask\" />\n          <h2>Criar uma nova sala</h2>\n          <form>\n            <input\n              type=\"text\"\n              placeholder=\"Nome da sala\"\n            />\n            <Button type=\"submit\">\n              Criar sala\n            </Button>\n          </form>\n          <p>\n            Quer entrar em uma sala já existente? <Link to=\"/\">Clique aqui</Link>\n          </p>\n        </div>\n      </main>\n    </div>\n  );\n};","import { BrowserRouter, Route } from \"react-router-dom\";\nimport { AuthContextProvider } from './contexts/AuthContext';\n\nimport { Home } from \"./pages/Home\";\nimport { NewRoom } from \"./pages/NewRoom\";\n\nexport function App() {\n  return (\n    <BrowserRouter basename=\"/nlw06-letmeask\">\n      <AuthContextProvider>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/rooms/new\" component={NewRoom} />\n      </AuthContextProvider>\n    </BrowserRouter>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nimport './services/firebase';\nimport './styles/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}