(this["webpackJsonpnlw06-letmeask"]=this["webpackJsonpnlw06-letmeask"]||[]).push([[0],{50:function(n,e,t){"use strict";t.r(e);var a=t(1),r=t.n(a),i=t(30),s=t.n(i),o=t(18),c=t(5),l=t(9),p=t.n(l),d=t(15),u=t(13),f=t(21);t(40),t(42);f.a.initializeApp({apiKey:"AIzaSyBlDfnWyafzcVmS4Lmn07e7T5JQN68zPC4",authDomain:"nlw06-letmeask-1b60e.firebaseapp.com",databaseURL:"https://nlw06-letmeask-1b60e-default-rtdb.firebaseio.com",projectId:"nlw06-letmeask-1b60e",storageBucket:"nlw06-letmeask-1b60e.appspot.com",messagingSenderId:"654038683491",appId:"1:654038683491:web:d9f61a0893d2b6ad934d56"});var x=f.a.auth(),b=f.a.database(),g=t(2),h=Object(a.createContext)({});function m(n){var e=n.children,t=Object(a.useState)(),r=Object(u.a)(t,2),i=r[0],s=r[1];function o(){return(o=Object(d.a)(p.a.mark((function n(){var e,t,a,r,i,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new f.a.auth.GoogleAuthProvider,n.next=3,x.signInWithPopup(e);case 3:if(!(t=n.sent).user){n.next=9;break}if(a=t.user,r=a.displayName,i=a.photoURL,o=a.uid,r&&i){n.next=8;break}throw new Error("Missing information from Google Account");case 8:s({id:o,name:r,avatar:i});case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var n=x.onAuthStateChanged((function(n){if(n){var e=n.displayName,t=n.photoURL,a=n.uid;if(!e||!t)throw new Error("Missing information from Google Account");s({id:a,name:e,avatar:t})}}));return function(){n()}}),[]),Object(g.jsx)(h.Provider,{value:{user:i,signInWithGoogle:function(){return o.apply(this,arguments)}},children:e})}var j,O,v=t(7),w=t(8),y=w.b.div(j||(j=Object(v.a)(['\n  display: flex;\n  align-items: stretch;\n  height: 100vh;\n\n  main {\n    flex: 8;\n\n    padding: 0 32px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .main-content {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    max-width: 320px;\n    align-items: stretch;\n    text-align: center;\n\n    > img {\n      align-self: center;\n    }\n\n    form {\n      input {\n        height: 50px;\n        border-radius: 8px;\n        padding: 0 16px;\n        background: #fff;\n        border: 1px solid #a8a8b3;\n      }\n\n      button {\n        margin-top: 16px;\n      }\n\n      button,\n      input {\n        width: 100%;\n      }\n    }\n  }\n  .create-room {\n    margin-top: 64px;\n    height: 50px;\n    border-radius: 8px;\n    font-weight: 500;\n    background: #ea4335;\n    color: #fff;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    transition: filter 0.2s;\n\n    img {\n      margin-right: 8px;\n    }\n\n    &:hover {\n      filter: brightness(0.9);\n    }\n  }\n\n  .separator {\n    font-size: 14px;\n    color: #a8a8b3;\n\n    margin: 32px 0;\n    display: flex;\n    align-items: center;\n\n    &::before {\n      content: "";\n      flex: 1;\n      height: 1px;\n      background: #a8a8b3;\n      margin-right: 16px;\n    }\n\n    &::after {\n      content: "";\n      flex: 1;\n      height: 1px;\n      background: #a8a8b3;\n      margin-left: 16px;\n    }\n  }\n']))),k=t.p+"static/media/illustration.ae7276f0.svg",z=w.b.aside(O||(O=Object(v.a)(['\n  flex: 7;\n  background-color: #835afd;\n  color: #fff;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  padding: 120px 80px;\n\n  img {\n    max-width: 320px;\n  }\n\n  strong {\n    font: 700 36px "Poppins", sans-serif;\n    line-height: 42px;\n    margin-top: 16px;\n  }\n\n  p {\n    font-size: 24px;\n    line-height: 32px;\n    margin-top: 16px;\n    color: #f8f8f8;\n  }\n'])));function S(){return Object(g.jsxs)(z,{children:[Object(g.jsx)("img",{src:k,alt:"Ilustra\xe7\xe3o simbolizando perguntas e respostas"}),Object(g.jsx)("strong",{children:"Crie salas de Q&A ao-vivo"}),Object(g.jsx)("p",{children:"Tire as d\xfavidas  da sua audi\xeancia em tempo-real"})]})}var C,N,A=t.p+"static/media/logo.a88331cb.svg",I=t.p+"static/media/google-icon.df15d8e5.svg",E=t.p+"static/media/login.4ca8665f.svg",L=t(34),P=w.b.button(C||(C=Object(v.a)(["\n  height: 50px;\n  border-radius: 8px;\n  font-weight: 500;\n  background: #835afd;\n  color: #fff;\n  padding: 0 32px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  transition: filter 0.2s;\n\n  img {\n    margin-right: 8px;\n  }\n\n  &:not(:disabled):hover {\n    filter: brightness(0.9);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"])));function G(n){return Object(g.jsx)(P,Object(L.a)({className:"button"},n))}function q(){return Object(a.useContext)(h)}function D(){var n=Object(c.f)(),e=q(),t=e.user,r=e.signInWithGoogle,i=Object(a.useState)(""),s=Object(u.a)(i,2),o=s[0],l=s[1];function f(){return(f=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,r();case 3:n.push("/rooms/new");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==o.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,b.ref("rooms/".concat(o)).get();case 5:if(e.sent.exists()){e.next=9;break}return alert("Room does not exist."),e.abrupt("return");case 9:n.push("/rooms/".concat(o));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsxs)(y,{children:[Object(g.jsx)(S,{}),Object(g.jsx)("main",{children:Object(g.jsxs)("div",{className:"main-content",children:[Object(g.jsx)("img",{src:A,alt:"Letmeask"}),Object(g.jsxs)("button",{className:"create-room",onClick:function(){return f.apply(this,arguments)},children:[Object(g.jsx)("img",{src:I,alt:"Logo do Google"}),"Crie sua sala com o Google"]}),Object(g.jsx)("div",{className:"separator",children:"ou entre em uma sala"}),Object(g.jsxs)("form",{onSubmit:function(n){return x.apply(this,arguments)},children:[Object(g.jsx)("input",{type:"text",placeholder:"Digite o c\xf3digo da sala",onChange:function(n){return l(n.target.value)},value:o}),Object(g.jsxs)(G,{type:"submit",children:[Object(g.jsx)("img",{src:E,alt:"Entrar na sala"}),"Entrar na sala"]})]})]})})]})}var R,W=w.b.div(N||(N=Object(v.a)(['\n  display: flex;\n  align-items: stretch;\n  height: 100vh;\n\n  main {\n    flex: 8;\n\n    padding: 0 32px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .main-content {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    max-width: 320px;\n    align-items: stretch;\n    text-align: center;\n\n    > img {\n      align-self: center;\n    }\n\n    h2 {\n      font-size: 24px;\n      margin: 64px 0 24px;\n      font-family: \'Poppins\', sans-serif;\n    }\n\n    form {\n      input {\n        height: 50px;\n        border-radius: 8px;\n        padding: 0 16px;\n        background: #fff;\n        border: 1px solid #a8a8b3;\n      }\n\n      button {\n        margin-top: 16px;\n      }\n\n      button,\n      input {\n        width: 100%;\n      }\n    }\n\n    p {\n      font-size: 14px;\n      color: #737380;\n      margin-top: 16px;\n\n      a {\n        color: #e559f9;\n      }\n    }\n  }\n  .create-room {\n    margin-top: 64px;\n    height: 50px;\n    border-radius: 8px;\n    font-weight: 500;\n    background: #ea4335;\n    color: #fff;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    transition: filter 0.2s;\n\n    img {\n      margin-right: 8px;\n    }\n\n    &:hover {\n      filter: brightness(0.9);\n    }\n  }\n\n  .separator {\n    font-size: 14px;\n    color: #a8a8b3;\n\n    margin: 32px 0;\n    display: flex;\n    align-items: center;\n\n    &::before {\n      content: "";\n      flex: 1;\n      height: 1px;\n      background: #a8a8b3;\n      margin-right: 16px;\n    }\n\n    &::after {\n      content: "";\n      flex: 1;\n      height: 1px;\n      background: #a8a8b3;\n      margin-left: 16px;\n    }\n  }\n'])));function B(){var n=q().user,e=Object(a.useState)(""),t=Object(u.a)(e,2),r=t[0],i=t[1],s=Object(c.f)();function l(){return(l=Object(d.a)(p.a.mark((function e(t){var a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==r.trim()){e.next=3;break}return e.abrupt("return");case 3:return a=b.ref("rooms"),e.next=6,a.push({title:r,authorId:null===n||void 0===n?void 0:n.id});case 6:i=e.sent,s.push("/rooms/".concat(i.key));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsxs)(W,{children:[Object(g.jsx)(S,{}),Object(g.jsx)("main",{children:Object(g.jsxs)("div",{className:"main-content",children:[Object(g.jsx)("img",{src:A,alt:"Letmeask"}),Object(g.jsx)("h2",{children:"Criar uma nova sala"}),Object(g.jsxs)("form",{onSubmit:function(n){return l.apply(this,arguments)},children:[Object(g.jsx)("input",{type:"text",placeholder:"Nome da sala",onChange:function(n){return i(n.target.value)},value:r}),Object(g.jsx)(G,{type:"submit",children:"Criar sala"})]}),Object(g.jsxs)("p",{children:["Quer entrar em uma sala j\xe1 existente? ",Object(g.jsx)(o.b,{to:"/",children:"Clique aqui"})]})]})})]})}var H,J,M=w.b.div(R||(R=Object(v.a)(['\n  header {\n    padding: 24px;\n    border-bottom: 1px solid #e2e2e2;\n\n    .content {\n      max-width: 1120px;\n      margin: 0 auto;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      > img {\n        max-height: 45px;\n      }\n    }\n  }\n\n  main {\n    max-width: 800px;\n    margin: 0 auto;\n\n    .room-title {\n      margin: 32px 0 24px;\n      display: flex;\n      align-items: center;\n\n      h1 {\n        font-family: "Poppins", sans-serif;\n        font-size: 24px;\n        color: #29292e;\n      }\n\n      span {\n        margin-left: 16px;\n        background: #e559f9;\n        border-radius: 9999px;\n        padding: 8px 16px;\n        color: #fff;\n        font-weight: 500;\n        font-size: 14px;\n      }\n    }\n\n    form {\n      textarea {\n        width: 100%;\n        border: 0;\n        padding: 16px;\n        border-radius: 8px;\n        background: #fefefe;\n        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);\n        resize: vertical;\n        min-height: 130px;\n      }\n\n      .form-footer {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-top: 16px;\n\n        .user-info {\n          display: flex;\n          align-items: center;\n\n          img {\n            height: 32px;\n            width: 32px;\n            border-radius: 50%;\n          }\n\n          span {\n            margin-left: 8px;\n            color: #29292e;\n            font-weight: 500;\n            font-size: 14px;\n          }\n        }\n\n        > span {\n          font-size: 14px;\n          color: #737380;\n          font-weight: 500;\n\n          button {\n            background: transparent;\n            color: #835afd;\n            text-decoration: underline;\n            font-size: 14px;\n            font-weight: 500;\n          }\n        }\n      }\n    }\n  }\n']))),Q=t.p+"static/media/copy.2f36f99e.svg",T=w.b.button(H||(H=Object(v.a)(["\n  height: 40px;\n  border-radius: 8px;\n  overflow: hidden;\n\n  background: #fff;\n  border: 1px solid #835afd;\n  display: flex;\n\n  div {\n    background: #835afd;\n    padding: 0 12px;\n    display: flex;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n  }\n\n  span {\n    display: block;\n    align-self: center;\n    flex: 1;\n    padding: 0 16px 0 12px;\n    width: 240px;\n    font-size: 14px;\n    font-weight: 500;\n  }\n"])));function U(n){var e=n.code;return Object(g.jsxs)(T,{className:"room-code",onClick:function(){navigator.clipboard.writeText(e)},children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:Q,alt:"Copiar c\xf3digo da sala"})}),Object(g.jsxs)("span",{children:["Sala #",e]})]})}function K(){var n=q().user,e=Object(c.g)(),t=Object(a.useState)(""),r=Object(u.a)(t,2),i=r[0],s=r[1],o=Object(a.useState)([]),l=Object(u.a)(o,2),f=l[0],x=l[1],h=Object(a.useState)(""),m=Object(u.a)(h,2),j=m[0],O=m[1],v=e.id;function w(){return(w=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==i.trim()){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=5;break}throw new Error("You must be logged in");case 5:return a={content:i,author:{name:n.name,avatar:n.avatar},isHighlighted:!1,isAnswered:!1},e.next=8,b.ref("rooms/".concat(v,"/questions")).push(a);case 8:s("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){b.ref("rooms/".concat(v)).on("value",(function(n){var e,t=n.val(),a=null!==(e=t.questions)&&void 0!==e?e:{},r=Object.entries(a).map((function(n){var e=Object(u.a)(n,2),t=e[0],a=e[1];return{id:t,content:a.content,author:a.author,isHighlighted:a.isHighlighted,isAnswered:a.isAnswered}}));O(t.title),x(r)}))}),[v]),Object(g.jsxs)(M,{children:[Object(g.jsx)("header",{children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("img",{src:A,alt:"Letmeask"}),Object(g.jsx)(U,{code:v})]})}),Object(g.jsxs)("main",{children:[Object(g.jsxs)("div",{className:"room-title",children:[Object(g.jsxs)("h1",{children:["Sala ",j]}),f.length>0&&Object(g.jsxs)("span",{children:[f.length," pergunta(s)"]})]}),Object(g.jsxs)("form",{onSubmit:function(n){return w.apply(this,arguments)},children:[Object(g.jsx)("textarea",{placeholder:"O que voc\xea quer perguntar?",onChange:function(n){return s(n.target.value)},value:i}),Object(g.jsxs)("div",{className:"form-footer",children:[n?Object(g.jsxs)("div",{className:"user-info",children:[Object(g.jsx)("img",{src:n.avatar,alt:n.name}),Object(g.jsx)("span",{children:n.name})]}):Object(g.jsxs)("span",{children:["Para enviar uma pergunta, ",Object(g.jsx)("button",{children:"fa\xe7a seu login"}),"."]}),Object(g.jsx)(G,{type:"submit",disabled:!n,children:"Enviar pergunta"})]})]})]})]})}function V(){return Object(g.jsx)(o.a,{basename:"/nlw06-letmeask",children:Object(g.jsx)(m,{children:Object(g.jsxs)(c.c,{children:[Object(g.jsx)(c.a,{path:"/",exact:!0,component:D}),Object(g.jsx)(c.a,{path:"/rooms/new",component:B}),Object(g.jsx)(c.a,{path:"/rooms/:id",component:K})]})})})}var Y=Object(w.a)(J||(J=Object(v.a)(['\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: #f8f8f8;\n    color: #29292e;\n  }\n\n  body,\n  input,\n  button,\n  textarea {\n    font: 400 16px "Roboto", sans-serif;\n  }\n\n  button {\n    border: 0;\n    cursor: pointer;\n  }\n'])));s.a.render(Object(g.jsxs)(r.a.StrictMode,{children:[Object(g.jsx)(V,{}),Object(g.jsx)(Y,{})]}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.912f5510.chunk.js.map